<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="LingChenBill">
  <meta name="keywords" content="">
  <title>Npmå­¦ä¹ ä¸€ - LingChen&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/dracula.min.css" />


<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_fmb4a04yx8h.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">




<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>LingChen's blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">
              <i class="iconfont icon-home-fill"></i>
              Home</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">
              <i class="iconfont icon-archive-fill"></i>
              Archives</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">
              <i class="iconfont icon-category-fill"></i>
              Categories</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">
              <i class="iconfont icon-tags-fill"></i>
              Tags</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">
              <i class="iconfont icon-user-fill"></i>
              About</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/Hippopx-desk.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
                <div class="mt-3 post-meta">
                  <i class="iconfont icon-date-fill" aria-hidden="true"></i>
                  <time datetime="2022-07-25 21:21">
                    July 25, 2022 pm
                  </time>
                </div>
              

              <div class="mt-1">
                
                  
                  <span class="post-meta mr-2">
                    <i class="iconfont icon-chart"></i>
                    3.6k å­—
                  </span>
                

                
                  
                  <span class="post-meta mr-2">
                      <i class="iconfont icon-clock-fill"></i>
                    
                    
                    61
                     åˆ†é’Ÿ
                  </span>
                

                
              </div>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <p>[TOC]</p>
<h3 id="1-npmå®‰è£…"><a href="#1-npmå®‰è£…" class="headerlink" title="1. npmå®‰è£…"></a>1. npmå®‰è£…</h3><p>å®‰è£…NodeJS, ä¸‹è½½åœ°å€:<code>http://nodejs.cn/download</code></p>
<div class="hljs"><pre><code class="hljs bash"><span class="hljs-comment"># æŸ¥çœ‹ç‰ˆæœ¬</span>
node -v
<span class="hljs-comment"># é€‰æ‹©å·²ç»å®‰è£…å¥½çš„nodeç‰ˆæœ¬:</span>
n

<span class="hljs-comment"># é€‰æ‹©å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„node:</span>
sudo n 15</code></pre></div>

<p>macæˆ–linuxç³»ç»Ÿå‡çº§å‘½ä»¤:</p>
<div class="hljs"><pre><code class="hljs bash">sudo npm install npm -g</code></pre></div>

<p>æŸ¥çœ‹npmç‰ˆæœ¬:</p>
<div class="hljs"><pre><code class="hljs bash">npm -v</code></pre></div>

<h3 id="2-å®‰è£…webpack"><a href="#2-å®‰è£…webpack" class="headerlink" title="2. å®‰è£…webpack"></a>2. å®‰è£…webpack</h3><p>å®‰è£…æ‰“åŒ…å·¥å…·webpack:</p>
<div class="hljs"><pre><code class="hljs bash">sudo npm install webpack -g</code></pre></div>

<h3 id="3-å®‰è£…vue-cli"><a href="#3-å®‰è£…vue-cli" class="headerlink" title="3. å®‰è£…vue-cli"></a>3. å®‰è£…vue-cli</h3><div class="hljs"><pre><code class="hljs bash">sudo npm install vue-cli -g

sudo npm i -g @vue/cli-init

å¸è½½ç”µè„‘ä¸­çš„vue-cliæ—§çš„ç‰ˆæœ¬:
sudo npm uninstall -g @vue/cli
sudo npm uninstall -g vue-cli

å®‰è£…:
sudo npm install -g @vue/cli</code></pre></div>

<p>å®‰è£…æ·˜å®é•œåƒ:</p>
<div class="hljs"><pre><code class="hljs bash">npm install -g cnpm --registry=https://registry.npm.taobao.org</code></pre></div>

<h3 id="4-å®‰è£…Yarn"><a href="#4-å®‰è£…Yarn" class="headerlink" title="4. å®‰è£…Yarn"></a>4. å®‰è£…Yarn</h3><div class="hljs"><pre><code class="hljs bash">sudo npm i yarn -g -verbose</code></pre></div>

<p>å°†yarnåˆ‡æ¢æˆæ·˜å®é•œåƒ:</p>
<div class="hljs"><pre><code class="hljs bash">yarn config <span class="hljs-built_in">set</span> registry https://registry.npm.taobao.org</code></pre></div>

<p>Yarnå‘½ä»¤:</p>
<div class="hljs"><pre><code class="hljs bash">npm install
-&gt;
yarn install

npm install --save [package]
-&gt;
yarn add [package]

npm install --save-dev [package]
-&gt;
yarn add [package] --dev

npm install --global [package]
-&gt;
yarn global add [package]

npm uninstall --save [package]
-&gt;
yarn remove [package]

npm uninstall --save-dev [package]
-&gt;
yarn remove [package]</code></pre></div>

<h3 id="5-ç”Ÿæˆé¡¹ç›®"><a href="#5-ç”Ÿæˆé¡¹ç›®" class="headerlink" title="5. ç”Ÿæˆé¡¹ç›®"></a>5. ç”Ÿæˆé¡¹ç›®</h3><div class="hljs"><pre><code class="hljs bash">% vue init webpack mango-ui

? Project name mango-ui
? Project description mango ui
? Author lingchen
? Vue build standalone
? Install vue-router? Yes
? Use ESLint to lint your code? No
? Set up unit tests No
? Setup e2e tests with Nightwatch? No
? Should we run `npm install` <span class="hljs-keyword">for</span> you after the project has been created? (recommended) yarn

   vue-cli Â· Generated <span class="hljs-string">&quot;mango-ui&quot;</span>.

% <span class="hljs-built_in">cd</span> mango-ui
% yarn install
yarn install v1.22.18
[1/5] ğŸ”  Validating package.json...
[2/5] ğŸ”  Resolving packages...
success Already up-to-date.
âœ¨  Done <span class="hljs-keyword">in</span> 0.65s.</code></pre></div>

<p>å¯åŠ¨é¡¹ç›®:</p>
<div class="hljs"><pre><code class="hljs bash">npm run dev</code></pre></div>

<h3 id="6-å®‰è£…Element-ui"><a href="#6-å®‰è£…Element-ui" class="headerlink" title="6. å®‰è£…Element-ui"></a>6. å®‰è£…Element-ui</h3><div class="hljs"><pre><code class="hljs bash">% yarn add element-ui</code></pre></div>

<p>åœ¨<code>main.js</code>å¼•å…¥Element-ui</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> ElementUI <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;element-ui&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>

Vue.config.productionTip = <span class="hljs-literal">false</span>

Vue.use(ElementUI)</code></pre></div>

<h3 id="7-å®‰è£…SCSS"><a href="#7-å®‰è£…SCSS" class="headerlink" title="7. å®‰è£…SCSS"></a>7. å®‰è£…SCSS</h3><div class="hljs"><pre><code class="hljs bash">yarn add sass-loader node-sass --dev
æ³¨æ„ç‰ˆæœ¬:

`<span class="hljs-string">&quot;sass-loader&quot;</span>: <span class="hljs-string">&quot;^7.1.0&quot;</span>,`

`<span class="hljs-string">&quot;node-sass&quot;</span>: <span class="hljs-string">&quot;^4.11.0&quot;</span>,`</code></pre></div>

<p>åœ¨buildæ–‡ä»¶å¤¹çš„<code>webpack.base.conf.js</code>çš„rulesæ ‡ç­¾ä¸‹æ·»åŠ é…ç½®:</p>
<div class="hljs"><pre><code class="hljs javascript">rules: [
  <span class="hljs-comment">// é…ç½®scss.</span>
  &#123;
    test: <span class="hljs-regexp">/\.scss$/</span>,
    loaders: [<span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">&#x27;css&#x27;</span>, <span class="hljs-string">&#x27;sass&#x27;</span>]
  &#125;,
  ...
]</code></pre></div>

<p>åœ¨é¡µé¢ä»£ç çš„<code>style</code>æ ‡ç­¾ä¸­æŠŠlangè®¾ç½®æˆscss, å³å¯:</p>
<div class="hljs"><pre><code class="hljs vue">&lt;style lang&#x3D;&quot;sass&quot; scoped&gt;

&lt;&#x2F;style&gt;</code></pre></div>

<p><strong>é”™è¯¯</strong>: macç³»ç»Ÿ:å®‰è£…sass-loader node-sass</p>
<p><code>&quot;sass-loader&quot;: &quot;^7.1.0&quot;,</code></p>
<p><code>&quot;node-sass&quot;: &quot;^4.11.0&quot;,</code></p>
<div class="hljs"><pre><code class="hljs bash">gyp verb download using dist-url https://npmmirror.com/mirrors/node
gyp verb check python checking <span class="hljs-keyword">for</span> Python executable <span class="hljs-string">&quot;python2&quot;</span> <span class="hljs-keyword">in</span> the PATH
.......

<span class="hljs-comment"># å®‰è£…python2, åˆ°å®˜ç½‘ä¸Šä¸‹è½½python2</span>
https://www.python.org/downloads/macos/

ä¸‹è½½:python-2.7.13-macosx10.6.pkg
å®‰è£…å¥½, é…ç½®path:
vi ~/.bash_profile
<span class="hljs-built_in">export</span> PYTHON2=/Library/Frameworks/Python.framework/Versions/2.7/bin
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PYTHON2</span>:<span class="hljs-variable">$PATH</span>
<span class="hljs-built_in">source</span> ~/.bash_profile

vi ~/.zshrc
<span class="hljs-built_in">alias</span> python2=/Library/Frameworks/Python.framework/Versions/2.7/bin/python2
<span class="hljs-built_in">source</span> ~/.zshrc

sudo rm -rf $(xcode-select -p)
sudo xcode-select --install

å†æ¬¡è¿è¡Œ:
yarn install

é”™è¯¯:
node.js - error: no template named â€˜remove_cv_tâ€™ <span class="hljs-keyword">in</span> namespace â€˜stdâ€™; did you mean â€˜remove_cvâ€™
æœ¬æœºçš„nodeè¿‡é«˜, node ç‰ˆæœ¬è¦é™çº§:15

node -v
v16.3.0

é™ä½ç‰ˆæœ¬:
sudo n 15
å®‰è£…å¥½, æŸ¥çœ‹nodeç‰ˆæœ¬:
node -v
v15.14.0

å†æ¬¡è¿è¡Œ:
yarn install
èƒ½å¤Ÿå®‰è£…å¥½ä¾èµ–!

npm run dev
å¯åŠ¨å·¥ç¨‹, sassèƒ½å¤Ÿç”Ÿæ•ˆ!</code></pre></div>

<h3 id="8-å®‰è£…axios"><a href="#8-å®‰è£…axios" class="headerlink" title="8. å®‰è£…axios"></a>8. å®‰è£…axios</h3><div class="hljs"><pre><code class="hljs bash">yarn add axios@0.18.0</code></pre></div>

<h3 id="9-å®‰è£…mockjs"><a href="#9-å®‰è£…mockjs" class="headerlink" title="9. å®‰è£…mockjs"></a>9. å®‰è£…mockjs</h3><div class="hljs"><pre><code class="hljs bash">yarn add mockjs@1.0.1-beta3 --dev</code></pre></div>

<p>åœ¨<code>src</code>æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ª<code>mock/mock.js</code></p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> Mock <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;mockjs&#x27;</span>

Mock.mock(<span class="hljs-string">&#x27;http://localhost:8080/user&#x27;</span>, &#123;
  <span class="hljs-comment">// éšæœºç”Ÿæˆå§“å.</span>
  <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;@name&#x27;</span>,
  <span class="hljs-comment">// éšæœºç”Ÿæˆé‚®ç®±.</span>
  <span class="hljs-string">&#x27;email&#x27;</span>: <span class="hljs-string">&#x27;@email&#x27;</span>,
  <span class="hljs-comment">// å¹´é¾„åœ¨1~10å²ä¹‹é—´.</span>
  <span class="hljs-string">&#x27;age|1-10&#x27;</span>: <span class="hljs-number">5</span>,
&#125;)

Mock.mock(<span class="hljs-string">&#x27;http://localhost:8080/menu&#x27;</span>, &#123;
  <span class="hljs-comment">// idè‡ªå¢.</span>
  <span class="hljs-string">&#x27;id&#x27;</span>: <span class="hljs-string">&#x27;@increment&#x27;</span>,
  <span class="hljs-comment">// åç§°ä¸ºmenu.</span>
  <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;menu&#x27;</span>,
  <span class="hljs-comment">// æ’åºåœ¨1~20ä¹‹é—´.</span>
  <span class="hljs-string">&#x27;order|1-20&#x27;</span>: <span class="hljs-number">5</span>,
&#125;)</code></pre></div>

<p>åœ¨<code>Home.vue</code>ä¸­è®¿é—®mockæ¥å£:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-title">getUser</span>(<span class="hljs-params"></span>)</span> &#123;
  axios.get(<span class="hljs-string">&#x27;http://localhost:8080/user&#x27;</span>).then(
    res =&gt; &#123;
      alert(<span class="hljs-built_in">JSON</span>.stringify(res.data))
    &#125;
  )
&#125;,
<span class="hljs-function"><span class="hljs-title">getMenu</span>(<span class="hljs-params"></span>)</span> &#123;
  axios.get(<span class="hljs-string">&#x27;http://localhost:8080/menu&#x27;</span>).then(
    res =&gt; &#123;
      alert(<span class="hljs-built_in">JSON</span>.stringify(res.data))
    &#125;
  )
&#125;</code></pre></div>

<p>mockä¼šæ ¹æ®è¯·æ±‚urlæ‹¦æˆªå¯¹åº”è¯·æ±‚å¹¶è¿”å›æ¨¡æ‹Ÿæ•°æ®.</p>
<h3 id="10-å°è£…axiosæ¨¡å—"><a href="#10-å°è£…axiosæ¨¡å—" class="headerlink" title="10. å°è£…axiosæ¨¡å—"></a>10. å°è£…axiosæ¨¡å—</h3><ul>
<li>ç»Ÿä¸€urlé…ç½®.</li>
<li>ç»Ÿä¸€ apiè¯·æ±‚.</li>
<li>requestï¼ˆè¯·æ±‚ï¼‰æ‹¦æˆªå™¨. ä¾‹å¦‚ï¼šå¸¦ä¸Štoken ç­‰ï¼Œè®¾ç½®è¯·æ±‚å¤´.</li>
<li>responseï¼ˆå“åº”ï¼‰æ‹¦æˆªå™¨. ä¾‹å¦‚ï¼šç»Ÿä¸€é”™è¯¯å¤„ç†ï¼Œé¡µé¢é‡å®šå‘ç­‰.</li>
<li>æ ¹æ®éœ€è¦ï¼Œç»“åˆ vuex åšå…¨å±€çš„loading åŠ¨ç”»ï¼Œæˆ–è€…é”™è¯¯å¤„ç†.</li>
<li>å°†axios å°è£…æˆ Vue æ’ä»¶ä½¿ç”¨.</li>
</ul>
<p>å®‰è£…<code>js-cookie</code>:</p>
<div class="hljs"><pre><code class="hljs bash">yarn add js-cookie@2.2.0</code></pre></div>

<p><code>src/utils/global.js</code>:</p>
<p>å…¨å±€çš„é…ç½®, å¸¸é‡å’Œæ–¹æ³•æ”¾ç½®åœ¨æ­¤æ–‡ä»¶ä¸­.</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * å…¨å±€å¸¸é‡ã€æ–¹æ³•å°è£…æ¨¡å—.</span>
<span class="hljs-comment"> * é€šè¿‡åŸå‹æŒ‚è½½åˆ°Vueå±æ€§.</span>
<span class="hljs-comment"> * é€šè¿‡ this.Global è°ƒç”¨.</span>
<span class="hljs-comment"> */</span>

<span class="hljs-comment">// åå°ç®¡ç†ç³»ç»ŸæœåŠ¡å™¨åœ°å€.</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> baseUrl = <span class="hljs-string">&#x27;http://localhost:8001&#x27;</span>
<span class="hljs-comment">// ç³»ç»Ÿæ•°æ®å¤‡ä»½è¿˜åŸæœåŠ¡å™¨åœ°å€.</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> backupBaseUrl = <span class="hljs-string">&#x27;http://localhost:8002&#x27;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;
  baseUrl,
  backupBaseUrl
&#125;</code></pre></div>

<h4 id="1-config-js"><a href="#1-config-js" class="headerlink" title="(1) .config.js"></a>(1) .config.js</h4><p>axiosé»˜è®¤é…ç½®, åŒ…å«åŸºç¡€è·¯å¾„ç­‰ä¿¡æ¯.</p>
<p><code>src/http/config.js</code>:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; baseUrl &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/utils/global&#x27;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;
  method: <span class="hljs-string">&#x27;get&#x27;</span>,
  <span class="hljs-comment">// åŸºç¡€urlå‰ç¼€.</span>
  baseUrl: baseUrl,
  <span class="hljs-comment">// è¯·æ±‚å¤´ä¿¡æ¯.</span>
  headers: &#123;
    <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json;charset=UTF-8&#x27;</span>
  &#125;,
  <span class="hljs-comment">// å‚æ•°.</span>
  data: &#123;&#125;,
  <span class="hljs-comment">// è®¾ç½®è¶…æ—¶æ—¶é—´.</span>
  timeout: <span class="hljs-number">10000</span>,
  <span class="hljs-comment">// æºå¸¦å‡­è¯.</span>
  withCredentials: <span class="hljs-literal">true</span>,
  <span class="hljs-comment">// è¿”å›æ•°æ®ç±»å‹.</span>
  responseType: <span class="hljs-string">&#x27;json&#x27;</span>
&#125;</code></pre></div>

<h4 id="2-axios-js"><a href="#2-axios-js" class="headerlink" title="(2). axios.js"></a>(2). axios.js</h4><p>äºŒæ¬¡å°è£…axiosæ¨¡å—, åŒ…å«æ‹¦æˆªå™¨ç­‰ä¿¡æ¯.</p>
<p><code>src/http/axios.js</code>:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span>
<span class="hljs-keyword">import</span> config <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./config&#x27;</span>
<span class="hljs-keyword">import</span> Cookies <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;js-cookie&#x27;</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/router&#x27;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$axios</span>(<span class="hljs-params">options</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;
    <span class="hljs-keyword">const</span> instance = axios.create(&#123;
      baseURL: config.baseUrl,
      headers: config.headers,
      timeout: config.timeout,
      withCredentials: config.withCredentials
    &#125;)

    <span class="hljs-comment">// requestè¯·æ±‚æ‹¦æˆªå™¨.</span>
    instance.interceptors.request.use(
      config =&gt; &#123;
        <span class="hljs-keyword">let</span> token = Cookies.get(<span class="hljs-string">&#x27;token&#x27;</span>)
        <span class="hljs-keyword">if</span> (token) &#123;
          <span class="hljs-comment">// å‘é€è¯·æ±‚æ—¶æºå¸¦token.</span>
          config.headers.token = token
        &#125; <span class="hljs-keyword">else</span> &#123;
          <span class="hljs-comment">// é‡å®šå‘åˆ°ç™»å½•é¡µé¢.</span>
          router.push(<span class="hljs-string">&#x27;/login&#x27;</span>)
        &#125;

        <span class="hljs-keyword">return</span> config
      &#125;,
      error =&gt; &#123;
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error)
      &#125;
    )

    <span class="hljs-comment">// responseå“åº”æ‹¦æˆªå™¨.</span>
    instance.interceptors.response.use(
      response =&gt; &#123;
        <span class="hljs-keyword">return</span> response.data
      &#125;,
      err =&gt; &#123;
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(err)
      &#125;
    )

    <span class="hljs-comment">// è¯·æ±‚å¤„ç†.</span>
    instance(options).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;
      resolve(res)
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    &#125;).catch(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;
      reject(error)
    &#125;)
  &#125;)
&#125;</code></pre></div>

<h4 id="3-api-js"><a href="#3-api-js" class="headerlink" title="(3). api.js"></a>(3). api.js</h4><p>è¯·æ±‚æ¥å£æ±‡æ€»æ¨¡å—, èšåˆæ‰€æœ‰æ¨¡å—API.</p>
<p><code>src/http/api.js</code>:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">/*</span>
<span class="hljs-comment"> * æ¥å£ç»Ÿä¸€é›†æˆæ¨¡å—.</span>
<span class="hljs-comment"> * æ­¤æ¨¡å—æ˜¯ä¸€ä¸ªèšåˆæ¨¡å—, æ±‡åˆmodulesç›®å½•ä¸‹æ‰€æœ‰å­æ¨¡å—çš„API.</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> login  <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./modules/login&#x27;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;
  login,
&#125;</code></pre></div>

<h4 id="4-index-js"><a href="#4-index-js" class="headerlink" title="(4). index.js"></a>(4). index.js</h4><p>å°†axioså°è£…æˆæ’ä»¶, æŒ‰æ’ä»¶æ–¹å¼å¼•å…¥.</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">// å¯¼å…¥æ‰€æœ‰æ¥å£.</span>
<span class="hljs-keyword">import</span> api <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./api&#x27;</span>

<span class="hljs-keyword">const</span> install = <span class="hljs-function"><span class="hljs-params">Vue</span> =&gt;</span> &#123;
  <span class="hljs-keyword">if</span> (install.installed) &#123;
    <span class="hljs-keyword">return</span>;
  &#125;

  install.instanlled = <span class="hljs-literal">true</span>
  <span class="hljs-built_in">Object</span>.defineProperties(Vue.prototype, &#123;
    <span class="hljs-comment">// æ³¨æ„, æ­¤å¤„æŒ‚è½½åœ¨VueåŸå‹çš„$apiå¯¹è±¡ä¸Š.</span>
    $api: &#123;
      <span class="hljs-function"><span class="hljs-title">get</span>(<span class="hljs-params"></span>)</span> &#123;
        <span class="hljs-keyword">return</span> api;
      &#125;
    &#125;
  &#125;)
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> install</code></pre></div>

<h4 id="5-modulesæ–‡ä»¶å¤¹"><a href="#5-modulesæ–‡ä»¶å¤¹" class="headerlink" title="(5). modulesæ–‡ä»¶å¤¹"></a>(5). modulesæ–‡ä»¶å¤¹</h4><p>ç”¨æˆ·ç®¡ç†, èœå•ç®¡ç†ç­‰å­æ¨¡å—API.</p>
<p><code>src/http/modules/login.js</code>:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../axios&#x27;</span>;

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * ç³»ç»Ÿç™»å½•æ¨¡å—.</span>
<span class="hljs-comment"> */</span>

<span class="hljs-comment">// ç™»å½•</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> login = <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> axios(&#123;
    url: <span class="hljs-string">&#x27;login&#x27;</span>,
    method: <span class="hljs-string">&#x27;post&#x27;</span>,
    data
  &#125;)
&#125;

<span class="hljs-comment">// ç™»å‡º.</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> logout = <span class="hljs-function">() =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> axios(&#123;
    url: <span class="hljs-string">&#x27;logout&#x27;</span>,
    method: <span class="hljs-string">&#x27;get&#x27;</span>
  &#125;)
&#125;</code></pre></div>

<h4 id="6-main-js"><a href="#6-main-js" class="headerlink" title="(6). main.js"></a>(6). main.js</h4><p>ä¿®æ”¹<code>src/main.js</code>, å¯¼å…¥APIæ¨¡å—, å¹¶é€šè¿‡Vue.use(api)è¯­å¥è¿›è¡Œä½¿ç”¨æ³¨å†Œ, è¿™æ ·å¯ä»¥é€šè¿‡<code>this.$api.å­æ¨¡å—.æ–¹æ³•</code>çš„æ–¹å¼æ¥è°ƒç”¨åå°æ¥å£äº†.</p>
<p>å¼•å…¥<code>global</code>æ¨¡å—, å¹¶é€šè¿‡<code>Vue.prototype.global = global</code>è¿›è¡ŒæŒ‚è½½, å¯ä»¥é€šè¿‡<code>this.global.xxx</code>æ¥è·å–å…¨å±€é…ç½®äº†.</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">// The Vue build version to load with the `import` command</span>
<span class="hljs-comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span>
<span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>
<span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App&#x27;</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./router&#x27;</span>
<span class="hljs-keyword">import</span> api <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./http&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-built_in">global</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/utils/global&#x27;</span>
<span class="hljs-keyword">import</span> ElementUI <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;element-ui&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>

<span class="hljs-comment">// æ³¨å†Œä½¿ç”¨Element.</span>
Vue.use(ElementUI)
<span class="hljs-comment">// æ³¨å†Œä½¿ç”¨APIæ¨¡å—.</span>
Vue.use(api)

<span class="hljs-comment">// Vue.config.productionTip = false</span>
<span class="hljs-comment">// æŒ‚è½½å…¨å±€é…ç½®æ¨¡å—.</span>
Vue.prototype.global = <span class="hljs-built_in">global</span>

<span class="hljs-comment">/* eslint-disable no-new */</span>
<span class="hljs-keyword">new</span> Vue(&#123;
  el: <span class="hljs-string">&#x27;#app&#x27;</span>,
  router,
  render: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h(App)
  <span class="hljs-comment">// components: &#123; App &#125;,</span>
  <span class="hljs-comment">// template: &#x27;&lt;App/&gt;&#x27;</span>
&#125;)</code></pre></div>

<h3 id="11-å°è£…mockæ¨¡å—"><a href="#11-å°è£…mockæ¨¡å—" class="headerlink" title="11. å°è£…mockæ¨¡å—"></a>11. å°è£…mockæ¨¡å—</h3><p><code>index.js</code>æ˜¯èšåˆæ¨¡å—, ç»Ÿä¸€å¯¼å…¥æ‰€æœ‰å­æ¨¡å—å¹¶é€šè¿‡è°ƒç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ.</p>
<p><code>src/mock/index.js</code>:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> Mock <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;mockjs&#x27;</span>
<span class="hljs-keyword">import</span> &#123; baseUrl &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/utils/global&#x27;</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> login <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./modules/login&#x27;</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> user <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./modules/user&#x27;</span>

<span class="hljs-comment">// 1.å¼€å¯/å…³é—­[æ‰€æœ‰æ¨¡å—]æ‹¦æˆª, é€šè¿‡è°ƒç”¨[openMockå‚æ•°]è®¾ç½®.</span>
<span class="hljs-comment">// 2.å¼€å¯/å…³é—­[ä¸šåŠ¡æ¨¡å—]æ‹¦æˆª, é€šè¿‡è°ƒç”¨fnCreateæ–¹æ³•[isOpenå‚æ•°]è®¾ç½®.</span>
<span class="hljs-comment">// 3.å¼€å¯/å…³é—­[ä¸šåŠ¡æ¨¡å—ä¸­æŸä¸ªè¯·æ±‚]æ‹¦æˆª, é€šè¿‡å‡½æ•°è¿”å›å¯¹è±¡ä¸­çš„[isOpenå±æ€§]è®¾ç½®.</span>
<span class="hljs-keyword">let</span> openMock = <span class="hljs-literal">true</span>
<span class="hljs-comment">// let openMock = false</span>
fnCreate(login, openMock)
fnCreate(user, openMock)


<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * åˆ›å»ºmockæ¨¡æ‹Ÿæ•°æ®.</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;*&#125;</span> </span>mod æ¨¡å—.</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;*&#125;</span> </span>isOpen æ˜¯å¦å¼€å¯?</span>
<span class="hljs-comment"> */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fnCreate</span>(<span class="hljs-params">mod, isOpen = <span class="hljs-literal">true</span></span>) </span>&#123;
  <span class="hljs-keyword">if</span> (isOpen) &#123;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> mod) &#123;
      (<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
        <span class="hljs-keyword">if</span> (res.isOpen !== <span class="hljs-literal">false</span>) &#123;
          <span class="hljs-keyword">let</span> url = baseUrl
          <span class="hljs-keyword">if</span> (!url.endsWith(<span class="hljs-string">&#x27;/&#x27;</span>)) &#123;
            url = url + <span class="hljs-string">&#x27;/&#x27;</span>
          &#125;

          url = url + res.url
          Mock.mock(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(url), res.type, <span class="hljs-function">(<span class="hljs-params">opts</span>) =&gt;</span> &#123;
            opts[<span class="hljs-string">&#x27;data&#x27;</span>] = opts.body ? <span class="hljs-built_in">JSON</span>.parse(opts.body) : <span class="hljs-literal">null</span>
            <span class="hljs-keyword">delete</span> opts.body
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;\n&#x27;</span>)
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;%cmockæ‹¦æˆª, è¯·æ±‚: &#x27;</span>, <span class="hljs-string">&#x27;color:blue&#x27;</span>, opts)
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;%cmockæ‹¦æˆª, å“åº”: &#x27;</span>, <span class="hljs-string">&#x27;color:blue&#x27;</span>, res.data)
            <span class="hljs-keyword">return</span> res.data
          &#125;)
        &#125;
      &#125;)(mod[key]() || &#123;&#125;)
    &#125;
  &#125;
&#125;</code></pre></div>

<p><code>user.js</code>: mockçš„ç”¨æˆ·ç®¡ç†æ¨¡å—, æ ¼å¼è·Ÿåå°æ¥å£ä¿æŒä¸€è‡´.</p>
<p><code>src/mock/modules/user.js</code></p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * ç”¨æˆ·ç®¡ç†æ¨¡å—.</span>
<span class="hljs-comment"> */</span>

<span class="hljs-comment">// æŸ¥è¯¢ç”¨æˆ·.</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findUser</span>(<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">const</span> userFindData = &#123;
    <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">200</span>,
    <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">&quot;data&quot;</span>: &#123;
      <span class="hljs-comment">// éšæœºç”Ÿæˆå§“å.</span>
      <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;name&#x27;</span>,
      <span class="hljs-comment">// éšæœºç”Ÿæˆé‚®ç®±.</span>
      <span class="hljs-string">&#x27;email&#x27;</span>: <span class="hljs-string">&#x27;email&#x27;</span>,
      <span class="hljs-comment">// å¹´é¾„åœ¨1~10å²ä¹‹é—´.</span>
      <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">5</span>
    &#125;
  &#125;

  <span class="hljs-keyword">return</span> &#123;
    url: <span class="hljs-string">&#x27;user/find&#x27;</span>,
    type: <span class="hljs-string">&#x27;get&#x27;</span>,
    data: userFindData
  &#125;
&#125;

<span class="hljs-comment">// ä¿å­˜.</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">save</span>(<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">return</span> &#123;
    url: <span class="hljs-string">&#x27;user/save&#x27;</span>,
    type: <span class="hljs-string">&#x27;post&#x27;</span>,
    data: &#123;
      <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">200</span>,
      <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;data&quot;</span>: <span class="hljs-number">1</span>
    &#125;
  &#125;
&#125;

<span class="hljs-comment">// æ‰¹é‡åˆ é™¤.</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">batchDelete</span>(<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">return</span> &#123;
    url: <span class="hljs-string">&#x27;user/delete&#x27;</span>,
    type: <span class="hljs-string">&#x27;post&#x27;</span>,
    data: &#123;
      <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">200</span>,
      <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;data&quot;</span>: <span class="hljs-number">1</span>
    &#125;

  &#125;
&#125;

<span class="hljs-comment">// åˆ†é¡µæŸ¥è¯¢.</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findPage</span>(<span class="hljs-params">params</span>) </span>&#123;
  <span class="hljs-keyword">let</span> findPageData = &#123;
    <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">200</span>,
    <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">&quot;data&quot;</span>: &#123;&#125;
  &#125;

  <span class="hljs-keyword">let</span> pageNum = <span class="hljs-number">1</span>
  <span class="hljs-keyword">let</span> pageSize = <span class="hljs-number">8</span>

  <span class="hljs-keyword">if</span> (params !== <span class="hljs-literal">null</span>) &#123;
    <span class="hljs-comment">// pageNum = params.pageNum</span>
  &#125;
  <span class="hljs-keyword">if</span> (params !== <span class="hljs-literal">null</span>) &#123;
    <span class="hljs-comment">// pageSize = params.pageSize</span>
  &#125;

  <span class="hljs-keyword">let</span> content = <span class="hljs-built_in">this</span>.getContent(pageNum, pageSize)
  findPageData.data.pageNum = pageNum
  findPageData.data.pageSize = pageSize
  findPageData.data.totalSize = <span class="hljs-number">50</span>
  findPageData.data.content = content

  <span class="hljs-keyword">return</span> &#123;
    url: <span class="hljs-string">&#x27;user/findPage&#x27;</span>,
    type: <span class="hljs-string">&#x27;post&#x27;</span>,
    data: findPageData
  &#125;
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getContent</span>(<span class="hljs-params">pageNum, pageSize</span>) </span>&#123;
  <span class="hljs-keyword">let</span> content = []

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; pageSize; i++) &#123;
    <span class="hljs-keyword">let</span> obj = &#123;&#125;
    <span class="hljs-keyword">let</span> index = ((pageNum - <span class="hljs-number">1</span>) * pageSize) + i + <span class="hljs-number">1</span>
    obj.id = index
    obj.name = <span class="hljs-string">&#x27;mango&#x27;</span> + index
    obj.password = <span class="hljs-string">&#x27;9ec9750e709431dad22365cabc5c625482e574c74adaebba7dd02f1129e4ce1d&#x27;</span>
    obj.salt = <span class="hljs-string">&#x27;YzcmCZNvbXocrsz9dm8e&#x27;</span>
    obj.email = <span class="hljs-string">&#x27;mango&#x27;</span> + index + <span class="hljs-string">&#x27;@123.com&#x27;</span>
    obj.mobile = <span class="hljs-string">&#x27;18688982323&#x27;</span>
    obj.status = <span class="hljs-number">1</span>
    obj.deptId = <span class="hljs-number">12</span>
    obj.deptName = <span class="hljs-string">&#x27;æŠ€æœ¯éƒ¨&#x27;</span>
    <span class="hljs-keyword">if</span> (i % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) &#123;
      obj.deptId = <span class="hljs-number">13</span>
      obj.deptName = <span class="hljs-string">&#x27;å¸‚åœºéƒ¨&#x27;</span>
    &#125;
    obj.createBy= <span class="hljs-string">&#x27;admin&#x27;</span>
    obj.createTime= <span class="hljs-string">&#x27;2018-08-14 11:11:11&#x27;</span>
    obj.createBy= <span class="hljs-string">&#x27;admin&#x27;</span>
    obj.createTime= <span class="hljs-string">&#x27;2018-09-14 12:12:12&#x27;</span>

    content.push(obj)
  &#125;

  <span class="hljs-keyword">return</span> content
&#125;

<span class="hljs-comment">// æŸ¥æ‰¾ç”¨æˆ·çš„èœå•æƒé™æ ‡è¯†é›†åˆ.</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findPermissions</span>(<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">let</span> permsData = &#123;
    <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">200</span>,
    <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">&quot;data&quot;</span>: [
      <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;sys:user:view&quot;</span>,
      <span class="hljs-string">&quot;sys:menu:delete&quot;</span>,
      <span class="hljs-string">&quot;sys:dept:edit&quot;</span>,
      <span class="hljs-string">&quot;sys:dict:edit&quot;</span>,
      <span class="hljs-string">&quot;sys:dict:delete&quot;</span>,
      <span class="hljs-string">&quot;sys:menu:add&quot;</span>,
      <span class="hljs-string">&quot;sys:user:add&quot;</span>,
      <span class="hljs-string">&quot;sys:log:view&quot;</span>,
      <span class="hljs-string">&quot;sys:dept:delete&quot;</span>,
      <span class="hljs-string">&quot;sys:role:edit&quot;</span>,
      <span class="hljs-string">&quot;sys:role:view&quot;</span>,
      <span class="hljs-string">&quot;sys:dict:view&quot;</span>,
      <span class="hljs-string">&quot;sys:user:edit&quot;</span>,
      <span class="hljs-string">&quot;sys:user:delete&quot;</span>,
      <span class="hljs-string">&quot;sys:dept:view&quot;</span>,
      <span class="hljs-string">&quot;sys:dept:add&quot;</span>,
      <span class="hljs-string">&quot;sys:role:delete&quot;</span>,
      <span class="hljs-string">&quot;sys:menu:view&quot;</span>,
      <span class="hljs-string">&quot;sys:menu:edit&quot;</span>,
      <span class="hljs-string">&quot;sys:dict:add&quot;</span>,
      <span class="hljs-string">&quot;sys:role:add&quot;</span>
    ]
  &#125;

  <span class="hljs-keyword">return</span> &#123;
    url: <span class="hljs-string">&#x27;user/findPermissions&#x27;</span>,
    type: <span class="hljs-string">&#x27;get&#x27;</span>,
    data: permsData
  &#125;
&#125;</code></pre></div>

<p>å‰å°è®¿é—®æ¥å£:</p>
<p><code>src/http/modules/user.js</code>:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../axios&#x27;</span>

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * ç”¨æˆ·ç®¡ç†æ¨¡å—.</span>
<span class="hljs-comment"> */</span>

<span class="hljs-comment">// æŸ¥è¯¢ç”¨æˆ·.</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> findUser = <span class="hljs-function">() =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> axios(&#123;
    url: <span class="hljs-string">&#x27;/user/find&#x27;</span>,
    method: <span class="hljs-string">&#x27;get&#x27;</span>
  &#125;)
&#125;

<span class="hljs-comment">// ä¿å­˜.</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> save = <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> axios(&#123;
    url: <span class="hljs-string">&#x27;/user/save&#x27;</span>,
    method: <span class="hljs-string">&#x27;post&#x27;</span>,
    data
  &#125;)
&#125;

<span class="hljs-comment">// åˆ é™¤.</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> batchDelete = <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> axios(&#123;
    url: <span class="hljs-string">&#x27;/user/delete&#x27;</span>,
    method: <span class="hljs-string">&#x27;post&#x27;</span>,
    data
  &#125;)
&#125;

<span class="hljs-comment">// åˆ†é¡µæŸ¥è¯¢.</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> findPage = <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> axios(&#123;
    url: <span class="hljs-string">&#x27;/user/findPage&#x27;</span>,
    method: <span class="hljs-string">&#x27;post&#x27;</span>,
    data
  &#125;)
&#125;

<span class="hljs-comment">// æŸ¥æ‰¾ç”¨æˆ·çš„èœå•æƒé™æ ‡è¯†é›†åˆ.</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> findPermissions = <span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> axios(&#123;
    url: <span class="hljs-string">&#x27;/user/findPermissions&#x27;</span>,
    method: <span class="hljs-string">&#x27;post&#x27;</span>,
    params
  &#125;)
&#125;</code></pre></div>

<p><code>src/http/api.js</code>:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">/*</span>
<span class="hljs-comment"> * æ¥å£ç»Ÿä¸€é›†æˆæ¨¡å—.</span>
<span class="hljs-comment"> * æ­¤æ¨¡å—æ˜¯ä¸€ä¸ªèšåˆæ¨¡å—, æ±‡åˆmodulesç›®å½•ä¸‹æ‰€æœ‰å­æ¨¡å—çš„API.</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> login  <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./modules/login&#x27;</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> user <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./modules/user&#x27;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;
  login,
  user,
&#125;</code></pre></div>

<p>å‰å°è®¿é—®æ–¹å¼:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span>
<span class="hljs-comment">// import mock from &#x27;@/mock/mock.js&#x27;</span>
<span class="hljs-keyword">import</span> mock <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/mock/index.js&#x27;</span>
<span class="hljs-keyword">import</span> &#123; findUser &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../http/modules/user&#x27;</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;
  name: <span class="hljs-string">&#x27;Home&#x27;</span>,
  methods: &#123;
    <span class="hljs-function"><span class="hljs-title">getUser</span>(<span class="hljs-params"></span>)</span> &#123;
      <span class="hljs-built_in">this</span>.$api.user.findUser().then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;
        alert(<span class="hljs-built_in">JSON</span>.stringify(res.data))
      &#125;)
    &#125;
  &#125;
&#125;</code></pre></div>

<h3 id="12-å®‰è£…ç¬¬ä¸‰æ–¹å›¾æ ‡åº“"><a href="#12-å®‰è£…ç¬¬ä¸‰æ–¹å›¾æ ‡åº“" class="headerlink" title="12. å®‰è£…ç¬¬ä¸‰æ–¹å›¾æ ‡åº“"></a>12. å®‰è£…ç¬¬ä¸‰æ–¹å›¾æ ‡åº“</h3><p>Font Awesomeæä¾›äº†å¯ç¼©æ”¾çš„çŸ¢é‡å›¾æ ‡.</p>
<p>å®‰è£…ä¾èµ–:</p>
<div class="hljs"><pre><code class="hljs bash">yarn add font-awesome@4.7.0</code></pre></div>

<p>é¡¹ç›®å¼•å…¥:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;font-awesome/css/font-awesome.min.css&#x27;</span></code></pre></div>

<p>é¡µé¢å¼•å…¥:</p>
<div class="hljs"><pre><code class="hljs vue">&lt;li class&#x3D;&quot;fa fa-home fa-lg&quot;&gt;&lt;&#x2F;li&gt;</code></pre></div>

<h3 id="13-å¤šè¯­è¨€å›½é™…åŒ–"><a href="#13-å¤šè¯­è¨€å›½é™…åŒ–" class="headerlink" title="13. å¤šè¯­è¨€å›½é™…åŒ–"></a>13. å¤šè¯­è¨€å›½é™…åŒ–</h3><p>å®‰è£…ä¾èµ–:</p>
<div class="hljs"><pre><code class="hljs javascript">yarn add vue-i18n@<span class="hljs-number">8.7</span><span class="hljs-number">.0</span></code></pre></div>

<p>æ·»åŠ é…ç½®:</p>
<p><code>src/i18n/index.js</code>:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>
<span class="hljs-keyword">import</span> VueI18n <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-i18n&#x27;</span>

Vue.use(VueI18n)

<span class="hljs-comment">// æ³¨å†Œi18nå®ä¾‹å¹¶å¼•å…¥è¯­è¨€æ–‡ä»¶, æ–‡ä»¶æ ¼å¼ç­‰ä¸€ä¸‹è§£æ.</span>
<span class="hljs-keyword">const</span> i18n = <span class="hljs-keyword">new</span> VueI18n(&#123;
  locale: <span class="hljs-string">&#x27;zh_cn&#x27;</span>,
  messages: &#123;
    <span class="hljs-string">&#x27;zh_cn&#x27;</span>: <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@/assets/languages/zh_cn.json&#x27;</span>),
    <span class="hljs-string">&#x27;en_us&#x27;</span>: <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@/assets/languages/en_us.json&#x27;</span>)
  &#125;
&#125;)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> i18n</code></pre></div>

<p>æ·»åŠ é™æ€å›½é™…åŒ–æ–‡ä»¶:</p>
<p><code>src/assets/languages/en_us.json</code>:</p>
<div class="hljs"><pre><code class="hljs json">&#123;
  <span class="hljs-attr">&quot;common&quot;</span>: &#123;
    <span class="hljs-attr">&quot;home&quot;</span>: <span class="hljs-string">&quot;Home&quot;</span>,
    <span class="hljs-attr">&quot;login&quot;</span>: <span class="hljs-string">&quot;Login&quot;</span>,
    <span class="hljs-attr">&quot;logout&quot;</span>: <span class="hljs-string">&quot;Logout&quot;</span>,
    <span class="hljs-attr">&quot;doc&quot;</span>: <span class="hljs-string">&quot;Document&quot;</span>,
    <span class="hljs-attr">&quot;blog&quot;</span>: <span class="hljs-string">&quot;Blog&quot;</span>,
    <span class="hljs-attr">&quot;projectRepo&quot;</span>: <span class="hljs-string">&quot;Project&quot;</span>,
    <span class="hljs-attr">&quot;myMsg&quot;</span>: <span class="hljs-string">&quot;My Message&quot;</span>,
    <span class="hljs-attr">&quot;config&quot;</span>: <span class="hljs-string">&quot;Config&quot;</span>,
    <span class="hljs-attr">&quot;backup&quot;</span>: <span class="hljs-string">&quot;Backup&quot;</span>,
    <span class="hljs-attr">&quot;restore&quot;</span>: <span class="hljs-string">&quot;Restore&quot;</span>,
    <span class="hljs-attr">&quot;backupRestore&quot;</span>: <span class="hljs-string">&quot;Backup Restore&quot;</span>,
    <span class="hljs-attr">&quot;versionName&quot;</span>: <span class="hljs-string">&quot;Version&quot;</span>,
    <span class="hljs-attr">&quot;exit&quot;</span>: <span class="hljs-string">&quot;Exit&quot;</span>
  &#125;,
  <span class="hljs-attr">&quot;action&quot;</span>: &#123;
    <span class="hljs-attr">&quot;operation&quot;</span>: <span class="hljs-string">&quot;Operation&quot;</span>,
    <span class="hljs-attr">&quot;add&quot;</span>: <span class="hljs-string">&quot;Add&quot;</span>,
    <span class="hljs-attr">&quot;edit&quot;</span>: <span class="hljs-string">&quot;Edit&quot;</span>,
    <span class="hljs-attr">&quot;delete&quot;</span>: <span class="hljs-string">&quot;Delete&quot;</span>,
    <span class="hljs-attr">&quot;batchDelete&quot;</span>: <span class="hljs-string">&quot;Batch Delete&quot;</span>,
    <span class="hljs-attr">&quot;search&quot;</span>: <span class="hljs-string">&quot;Search&quot;</span>,
    <span class="hljs-attr">&quot;loading&quot;</span>: <span class="hljs-string">&quot;loading&quot;</span>,
    <span class="hljs-attr">&quot;submit&quot;</span>: <span class="hljs-string">&quot;Submit&quot;</span>,
    <span class="hljs-attr">&quot;comfirm&quot;</span>: <span class="hljs-string">&quot;Comfirm&quot;</span>,
    <span class="hljs-attr">&quot;cancel&quot;</span>: <span class="hljs-string">&quot;Cancel&quot;</span>,
    <span class="hljs-attr">&quot;reset&quot;</span>: <span class="hljs-string">&quot;Reset&quot;</span>
  &#125;
&#125;</code></pre></div>

<p><code>src/assets/languages/zh_cn.json</code>:</p>
<div class="hljs"><pre><code class="hljs json">&#123;
  <span class="hljs-attr">&quot;common&quot;</span>: &#123;
    <span class="hljs-attr">&quot;home&quot;</span>: <span class="hljs-string">&quot;é¦–é¡µ&quot;</span>,
    <span class="hljs-attr">&quot;login&quot;</span>: <span class="hljs-string">&quot;ç™»å½•&quot;</span>,
    <span class="hljs-attr">&quot;logout&quot;</span>: <span class="hljs-string">&quot;é€€å‡ºç™»å½•&quot;</span>,
    <span class="hljs-attr">&quot;doc&quot;</span>: <span class="hljs-string">&quot;æ–‡æ¡£&quot;</span>,
    <span class="hljs-attr">&quot;blog&quot;</span>: <span class="hljs-string">&quot;åšå®¢&quot;</span>,
    <span class="hljs-attr">&quot;projectRepo&quot;</span>: <span class="hljs-string">&quot;é¡¹ç›®&quot;</span>,
    <span class="hljs-attr">&quot;myMsg&quot;</span>: <span class="hljs-string">&quot;æˆ‘çš„æ¶ˆæ¯&quot;</span>,
    <span class="hljs-attr">&quot;config&quot;</span>: <span class="hljs-string">&quot;ç³»ç»Ÿé…ç½®&quot;</span>,
    <span class="hljs-attr">&quot;backup&quot;</span>: <span class="hljs-string">&quot;å¤‡ä»½&quot;</span>,
    <span class="hljs-attr">&quot;restore&quot;</span>: <span class="hljs-string">&quot;è¿˜åŸ&quot;</span>,
    <span class="hljs-attr">&quot;backupRestore&quot;</span>: <span class="hljs-string">&quot;å¤‡ä»½è¿˜åŸ&quot;</span>,
    <span class="hljs-attr">&quot;versionName&quot;</span>: <span class="hljs-string">&quot;ç‰ˆæœ¬åç§°&quot;</span>,
    <span class="hljs-attr">&quot;exit&quot;</span>: <span class="hljs-string">&quot;é€€å‡º&quot;</span>
  &#125;,
  <span class="hljs-attr">&quot;action&quot;</span>: &#123;
    <span class="hljs-attr">&quot;operation&quot;</span>: <span class="hljs-string">&quot;æ“ä½œ&quot;</span>,
    <span class="hljs-attr">&quot;add&quot;</span>: <span class="hljs-string">&quot;æ–°å¢&quot;</span>,
    <span class="hljs-attr">&quot;edit&quot;</span>: <span class="hljs-string">&quot;ç¼–è¾‘&quot;</span>,
    <span class="hljs-attr">&quot;delete&quot;</span>: <span class="hljs-string">&quot;åˆ é™¤&quot;</span>,
    <span class="hljs-attr">&quot;batchDelete&quot;</span>: <span class="hljs-string">&quot;æ‰¹é‡åˆ é™¤&quot;</span>,
    <span class="hljs-attr">&quot;search&quot;</span>: <span class="hljs-string">&quot;æŸ¥è¯¢&quot;</span>,
    <span class="hljs-attr">&quot;loading&quot;</span>: <span class="hljs-string">&quot;æ‹¼å‘½åŠ è½½ä¸­&quot;</span>,
    <span class="hljs-attr">&quot;submit&quot;</span>: <span class="hljs-string">&quot;æäº¤&quot;</span>,
    <span class="hljs-attr">&quot;comfirm&quot;</span>: <span class="hljs-string">&quot;ç¡®å®š&quot;</span>,
    <span class="hljs-attr">&quot;cancel&quot;</span>: <span class="hljs-string">&quot;å–æ¶ˆ&quot;</span>,
    <span class="hljs-attr">&quot;reset&quot;</span>: <span class="hljs-string">&quot;é‡ç½®&quot;</span>
  &#125;
&#125;</code></pre></div>

<p>åœ¨main.jsä¸­å¼•å…¥i18n:</p>
<p><code>src/main.js</code>:</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> i18n <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./i18n&#x27;</span>

<span class="hljs-keyword">new</span> Vue(&#123;
  el: <span class="hljs-string">&#x27;#app&#x27;</span>,
  i18n,
  router,
  render: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h(App)
  <span class="hljs-comment">// components: &#123; App &#125;,</span>
  <span class="hljs-comment">// template: &#x27;&lt;App/&gt;&#x27;</span>
&#125;)</code></pre></div>

<p>å­—ç¬¦å¼•ç”¨</p>
<p><code>src/views/Home.vue</code>:</p>
<p>é€šè¿‡<code>this.$i18n.locale = lang</code>æ–¹å¼å°±å¯ä»¥å…¨å±€åˆ‡æ¢è¯­è¨€, Vueæ¡†æ¶ä¼šæ ¹æ®localeçš„å€¼ygbc</p>
<div class="hljs"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;page&quot;&gt;
    &lt;h2&gt;Home Page&lt;&#x2F;h2&gt;

    &lt;h3&gt;&#123;&#123;$t(&#39;common.doc&#39;)&#125;&#125;&lt;&#x2F;h3&gt;
    &lt;el-button type&#x3D;&quot;success&quot; @click&#x3D;&quot;changeLanguage(&#39;zh_cn&#39;)&quot;&gt;ç®€ä½“ä¸­æ–‡&lt;&#x2F;el-button&gt;
    &lt;el-button type&#x3D;&quot;success&quot; @click&#x3D;&quot;changeLanguage(&#39;en_us&#39;)&quot;&gt;English&lt;&#x2F;el-button&gt;

  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

    &#x2F;&#x2F; è¯­è¨€åˆ‡æ¢.
    changeLanguage(lang) &#123;
      lang &#x3D;&#x3D;&#x3D; &#39;&#39; ? &#39;zh_cn&#39; : lang
      this.$i18n.locale &#x3D; lang
      this.langVisible &#x3D; false
    &#125;</code></pre></div>


            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/npm/">npm</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/npm/">npm</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" rel="nofollow noopener noopener">CC BY-SA 3.0åè®®</a> ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2022/08/13/pmp-sprint/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">pmp-å†²åˆº</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2022/07/10/spring-security-inited/">
                        <span class="hidden-mobile">spring-securityå­¦ä¹ è®°å½•ä¸€</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/main.js" ></script>


  <script  src="/js/lazyload.js" ></script>



  
  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '.post-content',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>





  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>






<!-- Plugins -->



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Npmå­¦ä¹ ä¸€&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>


















<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
